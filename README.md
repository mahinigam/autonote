# AutoNote

A professional Flask web application that transforms documents into structured notes using **Google Gemini AI** - completely free and cloud-powered.

## Quick Setup

### 1. Get Google Gemini API Key (FREE)
1. Visit [Google AI Studio](https://aistudio.google.com/)
2. Sign in with your Google account
3. Click "Get API Key" → "Create API Key"
4. Copy your API key

### 2. Environment Setup
```bash
# Copy environment template
cp .env.example .env

# Edit .env and add your API key
GEMINI_API_KEY=your-api-key-here
```

### 3. Install & Run
```bash
pip install -r requirements.txt
python app.py
```

Visit `http://localhost:5000`

## Features

- **Google Gemini AI**: Advanced note generation with cloud AI
- **Multi-format Support**: PDF, DOCX, images (PNG/JPG), and text
- **Smart OCR**: Advanced image text extraction with Tesseract
- **Interactive Chatbot**: Ask questions about your documents
- **Smart Formatting**: Tables, lists, and structured notes
- **Multiple Exports**: TXT, PDF, DOCX download options
- **Modern UI**: Professional glassmorphic design
- **Cloud Ready**: Optimized for Render deployment

## Dependencies

- **Flask**: Web framework for the application
- **Flask-Limiter**: Rate limiting and security
- **google-generativeai**: Google Gemini AI integration
- **pytesseract**: OCR for image text extraction
- **PyMuPDF**: PDF processing and text extraction
- **python-docx**: Microsoft Word document processing
- **reportlab**: PDF generation for exports
- **Pillow**: Image processing and manipulation
- **markdown**: Enhanced note formatting

## AI Technology

- **Primary Engine**: Google Gemini 1.5 Flash (free, fast, powerful)
- **Intelligent Fallbacks**: Graceful degradation when API is unavailable
- **Smart Processing**: Context-aware note generation
- **Interactive Features**: Document Q&A and table generation

## Supported File Types

- **Text**: Direct text input via textarea
- **PDF**: Extracting text from PDF documents
- **DOCX**: Microsoft Word document processing
- **Images**: PNG/JPG files with OCR text extraction
- **TXT**: Plain text file upload

## Deployment on Render

1. Fork this repository
2. Connect your GitHub repository to Render
3. Use the following settings:
   - **Environment**: Python
   - **Plan**: Starter (recommended) or free plan works
   - **Build Command**: `pip install -r requirements.txt`
   - **Start Command**: `gunicorn app:app --timeout 120 --workers 1 --max-requests 100`
4. Set environment variables in Render dashboard:
   - `GEMINI_API_KEY`: Your Google Gemini API key
   - `SECRET_KEY`: Generate a secure secret key
   - `FLASK_ENV`: Set to `production`

**Note**: The online AI system works well on both free and paid plans. No heavy local models required!

## Local Development

1. Clone the repository:
```bash
git clone https://github.com/mahinigam/autonote.git
cd autonote
```

2. Create and activate virtual environment:
```bash
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
```

3. Install dependencies:
```bash
pip install -r requirements.txt
```

4. Generate secure environment variables:
```bash
python generate_env.py
```
*This will create a `.env` file with a cryptographically secure secret key*

5. Run the application:
```bash
python app.py
```

The app will be available at `http://localhost:5000`

### Manual Secret Key Generation
If you prefer to generate keys manually:
```bash
python -c "import secrets; print('SECRET_KEY=' + secrets.token_urlsafe(32))"
```

## Configuration

Environment variables:

- `GEMINI_API_KEY`: Google Gemini API key for AI functionality
- `SECRET_KEY`: Flask secret key for sessions
  - **Local**: Auto-generated using `secrets.token_urlsafe(32)`
  - **Production**: Auto-generated by Render or set manually with 64+ characters
- `FLASK_ENV`: Set to `development` for local, `production` for deployment  

### Security Notes:
- Secret keys are generated using Python's cryptographically secure `secrets` library
- Keys are automatically generated if not provided in environment variables
- Never use the same secret key across different environments
- The `.env` file is in `.gitignore` to prevent accidental commits

## Project Structure

```
autonote/
├── app.py                 # Main Flask application
├── config.py              # Configuration settings
├── requirements.txt       # Python dependencies
├── render.yaml           # Render deployment config
├── runtime.txt           # Python version specification
├── .env.example          # Environment variables template
├── templates/            # Jinja2 templates
│   ├── base.html         # Base template
│   ├── index.html        # Home page
│   └── result.html       # Results page
├── static/               # Static assets
│   ├── css/logo.css      # Logo styling
│   └── images/           # Images
├── utils/                # Utility modules
│   ├── online_ai.py     # Google Gemini AI integration
│   ├── chatbot.py       # Document chatbot functionality
│   ├── ocr.py           # Image OCR processing
│   ├── pdf_reader.py    # PDF text extraction
│   ├── docx_reader.py   # DOCX text extraction
│   ├── summarizer.py    # AI summarization orchestrator
│   ├── file_exports.py  # Export utilities
│   └── cleanup.py       # Background cleanup
└── downloads/           # Temporary file storage
```

## Usage

1. **Text Input**: Paste text directly into the textarea
2. **File Upload**: Upload PDF, DOCX, TXT, or image files (max 10MB)
3. **Generate Notes**: Click "Generate Notes" to create structured bullet points
4. **Download**: Choose from TXT, MD, PDF, or DOCX export formats

## Development

### Running Tests

```bash
python -m pytest tests/
```

### Code Formatting

```bash
black .
flake8 .
```

### Contributing

1. Fork the repository
2. Create a feature branch: `git checkout -b feature-name`
3. Make changes and commit: `git commit -am 'Add feature'`
4. Push to branch: `git push origin feature-name`
5. Create Pull Request

## License

MIT License - see LICENSE file for details

## Support

For issues and questions, please create an issue on GitHub.
